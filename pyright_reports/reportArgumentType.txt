Pyright Diagnostic Report: reportArgumentType
================================================================================

Total violations: 15


/workspace/app/validators/document_validator.py (1 violations)
-----------------------------------------------
  Line 58:82 [error]: Expression of type "None" cannot be assigned to parameter of type "DocumentType"
  "None" is not assignable to "DocumentType"

/workspace/app/worker/tasks/pdf2chunks.py (4 violations)
-----------------------------------------
  Line 158:59 [error]: Argument of type "Match[str] | None" cannot be assigned to parameter "text" of type "str" in function "_match_hierarchy_element"
  Type "Match[str] | None" is not assignable to type "str"
    "Match[str]" is not assignable to "str"
  Line 240:13 [error]: Argument of type "Dict[str, Any]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  "Dict[str, Any]" is not assignable to "str"
  Line 259:35 [error]: Argument of type "str | None" cannot be assigned to parameter "title" of type "str" in function "__init__"
  Type "str | None" is not assignable to type "str"
    "None" is not assignable to "str"
  Line 276:31 [error]: Argument of type "str | None" cannot be assigned to parameter "title" of type "str" in function "__init__"
  Type "str | None" is not assignable to type "str"
    "None" is not assignable to "str"

/workspace/app/worker/tasks/preprocess_sn_o3.py (2 violations)
-----------------------------------------------
  Line 589:19 [error]: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Type "Path | None" is not assignable to type "FileDescriptorOrPath"
    Type "None" is not assignable to type "FileDescriptorOrPath"
      "None" is not assignable to "int"
      "None" is not assignable to "str"
      "None" is not assignable to "bytes"
      "None" is incompatible with protocol "PathLike[str]"
        "__fspath__" is not present
      "None" is incompatible with protocol "PathLike[bytes]"
  ...
  Line 802:66 [error]: Argument of type "list[List[Dict[str, Any]] | None]" cannot be assigned to parameter "records" of type "List[Dict[str, Any]]" in function "validate_output"
  "list[List[Dict[str, Any]] | None]" is not assignable to "List[Dict[str, Any]]"
    Type parameter "_T@list" is invariant, but "List[Dict[str, Any]] | None" is not the same as "Dict[str, Any]"
    Consider switching from "list" to "Sequence" which is covariant

/workspace/ingest/pdf2chunks.py (4 violations)
-------------------------------
  Line 147:106 [error]: Argument of type "Match[str] | None" cannot be assigned to parameter "text" of type "str" in function "_match_hierarchy_element"
  Type "Match[str] | None" is not assignable to type "str"
    "Match[str]" is not assignable to "str"
  Line 226:30 [error]: Argument of type "dict[str, Dict[str, Any]]" cannot be assigned to parameter "m" of type "Iterable[tuple[str, str]]" in function "update"
  "Literal['hierarchy']" is not assignable to "tuple[str, str]"
  Line 242:31 [error]: Argument of type "str | None" cannot be assigned to parameter "title" of type "str" in function "__init__"
  Type "str | None" is not assignable to type "str"
    "None" is not assignable to "str"
  Line 260:27 [error]: Argument of type "str | None" cannot be assigned to parameter "title" of type "str" in function "__init__"
  Type "str | None" is not assignable to type "str"
    "None" is not assignable to "str"

/workspace/ingest/preprocess_sn_o3.py (3 violations)
-------------------------------------
  Line 526:19 [error]: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Type "Path | None" is not assignable to type "FileDescriptorOrPath"
    Type "None" is not assignable to type "FileDescriptorOrPath"
      "None" is not assignable to "int"
      "None" is not assignable to "str"
      "None" is not assignable to "bytes"
      "None" is incompatible with protocol "PathLike[str]"
        "__fspath__" is not present
      "None" is incompatible with protocol "PathLike[bytes]"
  ...
  Line 552:19 [error]: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Type "Path | None" is not assignable to type "FileDescriptorOrPath"
    Type "None" is not assignable to type "FileDescriptorOrPath"
      "None" is not assignable to "int"
      "None" is not assignable to "str"
      "None" is not assignable to "bytes"
      "None" is incompatible with protocol "PathLike[str]"
        "__fspath__" is not present
      "None" is incompatible with protocol "PathLike[bytes]"
  ...
  Line 755:66 [error]: Argument of type "list[List[Dict[str, Any]] | None]" cannot be assigned to parameter "records" of type "List[Dict[str, Any]]" in function "validate_output"
  "list[List[Dict[str, Any]] | None]" is not assignable to "List[Dict[str, Any]]"
    Type parameter "_T@list" is invariant, but "List[Dict[str, Any]] | None" is not the same as "Dict[str, Any]"
    Consider switching from "list" to "Sequence" which is covariant

/workspace/ingest/templates_preprocess.py (1 violations)
-----------------------------------------
  Line 86:35 [error]: Argument of type "(t: Unknown = text) -> CoroutineType[Any, Any, Unknown | None]" cannot be assigned to parameter "object" of type "() -> Coroutine[Any, Any, Template]" in function "append"
  Type "(t: Unknown = text) -> CoroutineType[Any, Any, Unknown | None]" is not assignable to type "() -> Coroutine[Any, Any, Template]"
    Function return type "CoroutineType[Any, Any, Unknown | None]" is incompatible with type "Coroutine[Any, Any, Template]"
      "CoroutineType[Any, Any, Unknown | None]" is not assignable to "Coroutine[Any, Any, Template]"
        Type parameter "_ReturnT_nd_co@Coroutine" is covariant, but "Unknown | None" is not a subtype of "Template"
          Type "Unknown | None" is not assignable to type "Template"
