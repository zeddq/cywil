{
  "total_files": 3,
  "succeeded": 0,
  "failed": 3,
  "aggregate_duration_seconds": 11.220067501068115,
  "files": [
    {
      "test_file": "/workspace/test_celery_monitoring.py",
      "exit_code": 2,
      "duration_seconds": 3.804964303970337,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.13, pytest-8.4.0, pluggy-1.6.0\nrootdir: /workspace/tests\nconfigfile: pytest.ini\nplugins: anyio-4.10.0, metadata-3.1.1, hypothesis-6.92.1, mock-3.12.0, Faker-20.1.0, cov-5.0.0, asyncio-1.0.0, json-report-1.5.0, timeout-2.2.0, html-4.1.1\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ntimeout: 30.0s\ntimeout method: signal\ntimeout func_only: False\ncollected 0 items / 1 error\n\n==================================== ERRORS ====================================\n________________________ ERROR collecting test session _________________________\nImportError while importing test module '/workspace/test_celery_monitoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/usr/local/lib/python3.11/importlib/__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntest_celery_monitoring.py:12: in <module>\n    from app.worker.tasks.example import (\napp/worker/tasks/example.py:10: in <module>\n    from app.worker.base_task import BaseTask, RetryableTask, with_task_monitoring\napp/worker/base_task.py:15: in <module>\n    from app.worker.service_registry import get_service\napp/worker/service_registry.py:24: in <module>\n    from app.services.case_management_service import CaseManagementService\napp/services/__init__.py:14: in <module>\n    from .document_generation_service import DocumentGenerationService\napp/services/document_generation_service.py:18: in <module>\n    from .statute_search_service import StatuteSearchServiceDep\napp/services/statute_search_service.py:19: in <module>\n    from ..validators.document_validator import DocumentValidator\napp/validators/document_validator.py:10: in <module>\n    from app.models.pipeline_schemas import (\nE   ModuleNotFoundError: No module named 'app.models.pipeline_schemas'; 'app.models' is not a package\n------------------------------- Captured stdout --------------------------------\n2025-08-26 12:23:42,954 - [\u2205] [trace=0 span=] user_id=<anon> - Creating service: ConfigService (service_interface.__init__:52)\n2025-08-26 12:23:42,957 - [\u2205] [trace=0 span=] user_id=<anon> - Configuration loaded for environment: development (config_service._load_config:225)\n{\"timestamp\": \"2025-08-26T12:23:42.959291\", \"level\": \"INFO\", \"name\": \"root\", \"message\": \"Celery logging configured: level=INFO, json=True\", \"otelSpanID\": \"0\", \"otelTraceID\": \"0\", \"otelTraceSampled\": false, \"otelServiceName\": \"ai-paralegal-backend\", \"logger\": \"root\", \"source\": {\"file\": \"/workspace/app/worker/logging_config.py\", \"line\": 245, \"function\": \"configure_celery_logging\"}}\n{\"timestamp\": \"2025-08-26T12:23:42.959795\", \"level\": \"INFO\", \"name\": \"root\", \"message\": \"Celery logging configured: level=INFO, json=True\", \"otelSpanID\": \"0\", \"otelTraceID\": \"0\", \"otelTraceSampled\": false, \"otelServiceName\": \"ai-paralegal-backend\", \"logger\": \"root\", \"source\": {\"file\": \"/workspace/app/worker/logging_config.py\", \"line\": 245, \"function\": \"configure_celery_logging\"}}\n2025-08-26 12:23:42,960 - [\u2205] [trace=0 span=] user_id=<anon> - Celery app initialized with comprehensive monitoring, structured logging, and service registry (celery_app.<module>:45)\n2025-08-26 12:23:43,005 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'describe_case' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:43,005 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'schedule_reminder' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:43,006 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'compute_deadline' in category case_management (tool_registry.decorator:176)\n- generated xml file: /workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.xml -\n--------------------------------- JSON report ----------------------------------\nreport saved to: /workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.json\n\n---------- coverage: platform linux, python 3.11.13-final-0 ----------\nName                                           Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------------\napp/__init__.py                                    0      0   100%\napp/auth.py                                       67     67     0%   1-135\napp/core/__init__.py                               7      0   100%\napp/core/ai_client_factory.py                     62     62     0%   5-204\napp/core/celery_service_wrapper.py               199    199     0%   6-495\napp/core/config_service.py                       177     35    80%   48, 67-69, 74-76, 94, 112, 131-133, 178, 185, 214, 218, 227-229, 236-243, 246, 258-259, 263, 267, 271, 275-277, 289-291\napp/core/conversation_manager.py                 179    133    26%   38, 51, 68-72, 76-87, 91-92, 96-121, 130-143, 149-153, 164-173, 179-206, 210-222, 226-230, 236-257, 262-273, 277-286, 290-297, 301-341, 346-350, 354\napp/core/database_manager.py                     137     97    29%   32-38, 43-90, 94-97, 101-123, 132-143, 150-152, 156-158, 163-165, 170-172, 181-184, 188-189, 193-198, 202-207, 211-216, 221-223, 232, 237-245, 251, 256, 260\napp/core/db_optimizations.py                      82     82     0%   6-324\napp/core/exceptions.py                            97     36    63%   12-14, 27-28, 35, 54-55, 62, 69-71, 78-79, 110-111, 130-132, 139-144, 157-158, 177-179, 192-193, 218-221\napp/core/llm_manager.py                          203    156    23%   28-34, 39-56, 60-67, 72-79, 83-90, 94-100, 114-125, 130-167, 171-184, 188-191, 195-215, 221-224, 232-249, 253-254, 267-287, 297-298, 302-305, 312-320, 326-333, 337-347, 353-362, 366-367, 371-372, 380-381, 389, 396\napp/core/logger_manager.py                       276    177    36%   68-71, 100, 110, 139-144, 152-225, 232-235, 248-256, 273-289, 301-313, 321-326, 334-339, 423-428, 473-520, 528-542, 550-578, 587-593, 600-614, 621-693, 704-740, 744-782, 786\napp/core/logging_utils.py                          2      2     0%   5-7\napp/core/performance_utils.py                    220    220     0%   5-421\napp/core/service_container.py                      3      3     0%   6-11\napp/core/service_interface.py                    139     83    40%   36-39, 59-76, 81, 87-102, 107, 113-140, 147, 152, 157, 165, 177-180, 184-185, 189-190, 195-203, 207-209, 213-214, 218-221, 230, 234-249, 253-255, 259\napp/core/streaming_handler.py                    138    138     0%   6-288\napp/core/tool_executor.py                        222    163    27%   59-61, 66-68, 75-81, 85-101, 105-115, 119-134, 148-152, 156-165, 174-179, 184-188, 192, 196-228, 232, 236-239, 243, 265-318, 328-336, 340-374, 388-393, 400-410, 416-424, 430-436, 440\napp/core/tool_registry.py                        155     84    46%   42-47, 64-72, 85-105, 156, 182-191, 206, 210-213, 219-222, 226-248, 252-261, 265-269, 291, 299, 310-318, 325\napp/database.py                                    0      0   100%\napp/dependencies.py                                7      2    71%   10-11\napp/embedding_models/__init__.py                   3      0   100%\napp/embedding_models/embedding_factory.py         36     19    47%   28-33, 42-47, 55-60, 64, 68, 72, 76-79\napp/embedding_models/embedding_interface.py      113     79    30%   22, 27, 35, 40, 47-50, 54-59, 69-77, 81-82, 86-91, 95, 102-105, 109-111, 119-132, 136-137, 141, 145, 152-156, 160-175, 183-210, 214-215, 219-222, 226\napp/embedding_models/pipeline_schemas.py         145    145     0%   6-217\napp/main.py                                      275    275     0%   6-643\napp/models.py                                    191      3    98%   13, 249, 285\napp/orchestrator.py                                0      0   100%\napp/paralegal_agents/__init__.py                   2      2     0%   3-5\napp/paralegal_agents/refactored_agent_sdk.py     147    147     0%   7-466\napp/repositories/case_repository.py               54     35    35%   16, 20-21, 24-30, 33-37, 40-44, 47-53, 56-57, 60-64, 67-75, 79\napp/repositories/user_repository.py               38     22    42%   14, 17-18, 21-23, 26-28, 31-39, 47-54, 58\napp/routes/__init__.py                             3      3     0%   5-8\napp/routes/auth.py                               215    215     0%   6-646\napp/routes/case_management_routes.py              47     47     0%   5-125\napp/routes/monitoring_routes.py                  174    174     0%   5-444\napp/services/__init__.py                          17      8    53%   15-49\napp/services/case_management_service.py          110     75    32%   21-23, 26-27, 30, 33, 38, 41, 44, 47, 63-70, 146-149, 152-156, 160-163, 166, 171-191, 213-230, 256-313, 326\napp/services/document_generation_service.py      143    131     8%   19-403\napp/services/fallback_parser.py                  215    215     0%   6-448\napp/services/openai_client.py                    110    110     0%   5-340\napp/services/optimized_statute_search.py         109    109     0%   5-263\napp/services/statute_search_service.py           188    176     6%   20-429\napp/services/supreme_court_service.py            174    174     0%   5-427\napp/task_processors.py                           188    188     0%   1-355\napp/validator.py                                  22     22     0%   1-195\napp/validators/__init__.py                         0      0   100%\napp/validators/document_validator.py             170    166     2%   20-390\napp/worker/base_task.py                          157    148     6%   17-378\napp/worker/celery_app.py                          13      1    92%   50\napp/worker/config.py                              41      2    95%   200-230\napp/worker/logging_config.py                     113     43    62%   28-32, 79, 89, 134-140, 144-161, 195, 263-281, 299-311, 323-334, 346-357\napp/worker/service_registry.py                   175    163     7%   25-325\napp/worker/tasks/example.py                       44     39    11%   11-119\n----------------------------------------------------------------------------\nTOTAL                                           5804   4675    19%\nCoverage HTML written to dir htmlcov\n\nFAIL Required test coverage of 80% not reached. Total coverage: 19.45%\n- Generated html report: file:///workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.html -\n=========================== short test summary info ============================\nERROR tests\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 3.05s ===============================\n",
      "stderr": "",
      "junit_xml": "/workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.xml",
      "html_report": "/workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.html",
      "json_report": "/workspace/reports/20250826-122341/test_celery_monitoring/test_celery_monitoring.json"
    },
    {
      "test_file": "/workspace/test_celery_refactor.py",
      "exit_code": 2,
      "duration_seconds": 3.7328245639801025,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.13, pytest-8.4.0, pluggy-1.6.0\nrootdir: /workspace/tests\nconfigfile: pytest.ini\nplugins: anyio-4.10.0, metadata-3.1.1, hypothesis-6.92.1, mock-3.12.0, Faker-20.1.0, cov-5.0.0, asyncio-1.0.0, json-report-1.5.0, timeout-2.2.0, html-4.1.1\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ntimeout: 30.0s\ntimeout method: signal\ntimeout func_only: False\ncollected 0 items / 1 error\n\n==================================== ERRORS ====================================\n________________________ ERROR collecting test session _________________________\nImportError while importing test module '/workspace/test_celery_refactor.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/usr/local/lib/python3.11/importlib/__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntest_celery_refactor.py:12: in <module>\n    from app.worker.service_registry import get_worker_services\napp/worker/service_registry.py:24: in <module>\n    from app.services.case_management_service import CaseManagementService\napp/services/__init__.py:14: in <module>\n    from .document_generation_service import DocumentGenerationService\napp/services/document_generation_service.py:18: in <module>\n    from .statute_search_service import StatuteSearchServiceDep\napp/services/statute_search_service.py:19: in <module>\n    from ..validators.document_validator import DocumentValidator\napp/validators/document_validator.py:10: in <module>\n    from app.models.pipeline_schemas import (\nE   ModuleNotFoundError: No module named 'app.models.pipeline_schemas'; 'app.models' is not a package\n------------------------------- Captured stdout --------------------------------\n2025-08-26 12:23:46,833 - [\u2205] [trace=0 span=] user_id=<anon> - Creating service: ConfigService (service_interface.__init__:52)\n2025-08-26 12:23:46,836 - [\u2205] [trace=0 span=] user_id=<anon> - Configuration loaded for environment: development (config_service._load_config:225)\n{\"timestamp\": \"2025-08-26T12:23:46.838096\", \"level\": \"INFO\", \"name\": \"root\", \"message\": \"Celery logging configured: level=INFO, json=True\", \"otelSpanID\": \"0\", \"otelTraceID\": \"0\", \"otelTraceSampled\": false, \"otelServiceName\": \"ai-paralegal-backend\", \"logger\": \"root\", \"source\": {\"file\": \"/workspace/app/worker/logging_config.py\", \"line\": 245, \"function\": \"configure_celery_logging\"}}\n{\"timestamp\": \"2025-08-26T12:23:46.838553\", \"level\": \"INFO\", \"name\": \"root\", \"message\": \"Celery logging configured: level=INFO, json=True\", \"otelSpanID\": \"0\", \"otelTraceID\": \"0\", \"otelTraceSampled\": false, \"otelServiceName\": \"ai-paralegal-backend\", \"logger\": \"root\", \"source\": {\"file\": \"/workspace/app/worker/logging_config.py\", \"line\": 245, \"function\": \"configure_celery_logging\"}}\n2025-08-26 12:23:46,839 - [\u2205] [trace=0 span=] user_id=<anon> - Celery app initialized with comprehensive monitoring, structured logging, and service registry (celery_app.<module>:45)\n2025-08-26 12:23:46,872 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'describe_case' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:46,872 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'schedule_reminder' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:46,873 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'compute_deadline' in category case_management (tool_registry.decorator:176)\n- generated xml file: /workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.xml -\n--------------------------------- JSON report ----------------------------------\nreport saved to: /workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.json\n\n---------- coverage: platform linux, python 3.11.13-final-0 ----------\nName                                           Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------------\napp/__init__.py                                    0      0   100%\napp/auth.py                                       67     67     0%   1-135\napp/core/__init__.py                               7      0   100%\napp/core/ai_client_factory.py                     62     62     0%   5-204\napp/core/celery_service_wrapper.py               199    199     0%   6-495\napp/core/config_service.py                       177     35    80%   48, 67-69, 74-76, 94, 112, 131-133, 178, 185, 214, 218, 227-229, 236-243, 246, 258-259, 263, 267, 271, 275-277, 289-291\napp/core/conversation_manager.py                 179    133    26%   38, 51, 68-72, 76-87, 91-92, 96-121, 130-143, 149-153, 164-173, 179-206, 210-222, 226-230, 236-257, 262-273, 277-286, 290-297, 301-341, 346-350, 354\napp/core/database_manager.py                     137     97    29%   32-38, 43-90, 94-97, 101-123, 132-143, 150-152, 156-158, 163-165, 170-172, 181-184, 188-189, 193-198, 202-207, 211-216, 221-223, 232, 237-245, 251, 256, 260\napp/core/db_optimizations.py                      82     82     0%   6-324\napp/core/exceptions.py                            97     36    63%   12-14, 27-28, 35, 54-55, 62, 69-71, 78-79, 110-111, 130-132, 139-144, 157-158, 177-179, 192-193, 218-221\napp/core/llm_manager.py                          203    156    23%   28-34, 39-56, 60-67, 72-79, 83-90, 94-100, 114-125, 130-167, 171-184, 188-191, 195-215, 221-224, 232-249, 253-254, 267-287, 297-298, 302-305, 312-320, 326-333, 337-347, 353-362, 366-367, 371-372, 380-381, 389, 396\napp/core/logger_manager.py                       276    177    36%   68-71, 100, 110, 139-144, 152-225, 232-235, 248-256, 273-289, 301-313, 321-326, 334-339, 423-428, 473-520, 528-542, 550-578, 587-593, 600-614, 621-693, 704-740, 744-782, 786\napp/core/logging_utils.py                          2      2     0%   5-7\napp/core/performance_utils.py                    220    220     0%   5-421\napp/core/service_container.py                      3      3     0%   6-11\napp/core/service_interface.py                    139     83    40%   36-39, 59-76, 81, 87-102, 107, 113-140, 147, 152, 157, 165, 177-180, 184-185, 189-190, 195-203, 207-209, 213-214, 218-221, 230, 234-249, 253-255, 259\napp/core/streaming_handler.py                    138    138     0%   6-288\napp/core/tool_executor.py                        222    163    27%   59-61, 66-68, 75-81, 85-101, 105-115, 119-134, 148-152, 156-165, 174-179, 184-188, 192, 196-228, 232, 236-239, 243, 265-318, 328-336, 340-374, 388-393, 400-410, 416-424, 430-436, 440\napp/core/tool_registry.py                        155     84    46%   42-47, 64-72, 85-105, 156, 182-191, 206, 210-213, 219-222, 226-248, 252-261, 265-269, 291, 299, 310-318, 325\napp/database.py                                    0      0   100%\napp/dependencies.py                                7      2    71%   10-11\napp/embedding_models/__init__.py                   3      0   100%\napp/embedding_models/embedding_factory.py         36     19    47%   28-33, 42-47, 55-60, 64, 68, 72, 76-79\napp/embedding_models/embedding_interface.py      113     79    30%   22, 27, 35, 40, 47-50, 54-59, 69-77, 81-82, 86-91, 95, 102-105, 109-111, 119-132, 136-137, 141, 145, 152-156, 160-175, 183-210, 214-215, 219-222, 226\napp/embedding_models/pipeline_schemas.py         145    145     0%   6-217\napp/main.py                                      275    275     0%   6-643\napp/models.py                                    191      3    98%   13, 249, 285\napp/orchestrator.py                                0      0   100%\napp/paralegal_agents/__init__.py                   2      2     0%   3-5\napp/paralegal_agents/refactored_agent_sdk.py     147    147     0%   7-466\napp/repositories/case_repository.py               54     35    35%   16, 20-21, 24-30, 33-37, 40-44, 47-53, 56-57, 60-64, 67-75, 79\napp/repositories/user_repository.py               38     22    42%   14, 17-18, 21-23, 26-28, 31-39, 47-54, 58\napp/routes/__init__.py                             3      3     0%   5-8\napp/routes/auth.py                               215    215     0%   6-646\napp/routes/case_management_routes.py              47     47     0%   5-125\napp/routes/monitoring_routes.py                  174    174     0%   5-444\napp/services/__init__.py                          17      8    53%   15-49\napp/services/case_management_service.py          110     75    32%   21-23, 26-27, 30, 33, 38, 41, 44, 47, 63-70, 146-149, 152-156, 160-163, 166, 171-191, 213-230, 256-313, 326\napp/services/document_generation_service.py      143    131     8%   19-403\napp/services/fallback_parser.py                  215    215     0%   6-448\napp/services/openai_client.py                    110    110     0%   5-340\napp/services/optimized_statute_search.py         109    109     0%   5-263\napp/services/statute_search_service.py           188    176     6%   20-429\napp/services/supreme_court_service.py            174    174     0%   5-427\napp/task_processors.py                           188    188     0%   1-355\napp/validator.py                                  22     22     0%   1-195\napp/validators/__init__.py                         0      0   100%\napp/validators/document_validator.py             170    166     2%   20-390\napp/worker/celery_app.py                          13      1    92%   50\napp/worker/config.py                              41      2    95%   200-230\napp/worker/logging_config.py                     113     43    62%   28-32, 79, 89, 134-140, 144-161, 195, 263-281, 299-311, 323-334, 346-357\napp/worker/service_registry.py                   175    163     7%   25-325\n----------------------------------------------------------------------------\nTOTAL                                           5603   4488    20%\nCoverage HTML written to dir htmlcov\n\nFAIL Required test coverage of 80% not reached. Total coverage: 19.90%\n- Generated html report: file:///workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.html -\n=========================== short test summary info ============================\nERROR tests\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 2.91s ===============================\n",
      "stderr": "",
      "junit_xml": "/workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.xml",
      "html_report": "/workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.html",
      "json_report": "/workspace/reports/20250826-122341/test_celery_refactor/test_celery_refactor.json"
    },
    {
      "test_file": "/workspace/test_openai_implementation.py",
      "exit_code": 2,
      "duration_seconds": 3.682278633117676,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.13, pytest-8.4.0, pluggy-1.6.0\nrootdir: /workspace/tests\nconfigfile: pytest.ini\nplugins: anyio-4.10.0, metadata-3.1.1, hypothesis-6.92.1, mock-3.12.0, Faker-20.1.0, cov-5.0.0, asyncio-1.0.0, json-report-1.5.0, timeout-2.2.0, html-4.1.1\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ntimeout: 30.0s\ntimeout method: signal\ntimeout func_only: False\ncollected 0 items / 1 error\n\n==================================== ERRORS ====================================\n________________________ ERROR collecting test session _________________________\nImportError while importing test module '/workspace/test_openai_implementation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/usr/local/lib/python3.11/importlib/__init__.py:126: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntest_openai_implementation.py:29: in <module>\n    from app.services.openai_client import OpenAIService\napp/services/__init__.py:14: in <module>\n    from .document_generation_service import DocumentGenerationService\napp/services/document_generation_service.py:18: in <module>\n    from .statute_search_service import StatuteSearchServiceDep\napp/services/statute_search_service.py:19: in <module>\n    from ..validators.document_validator import DocumentValidator\napp/validators/document_validator.py:10: in <module>\n    from app.models.pipeline_schemas import (\nE   ModuleNotFoundError: No module named 'app.models.pipeline_schemas'; 'app.models' is not a package\n------------------------------- Captured stdout --------------------------------\n2025-08-26 12:23:50,495 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'describe_case' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:50,495 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'schedule_reminder' in category case_management (tool_registry.decorator:176)\n2025-08-26 12:23:50,495 - [\u2205] [trace=0 span=] user_id=<anon> - Registered tool 'compute_deadline' in category case_management (tool_registry.decorator:176)\n- generated xml file: /workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.xml -\n--------------------------------- JSON report ----------------------------------\nreport saved to: /workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.json\n\n---------- coverage: platform linux, python 3.11.13-final-0 ----------\nName                                           Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------------\napp/__init__.py                                    0      0   100%\napp/auth.py                                       67     67     0%   1-135\napp/core/__init__.py                               7      0   100%\napp/core/ai_client_factory.py                     62     62     0%   5-204\napp/core/celery_service_wrapper.py               199    199     0%   6-495\napp/core/config_service.py                       177     61    66%   48, 67-69, 74-76, 92-94, 111-113, 131-133, 177-179, 183-186, 199-201, 205-210, 214, 218, 223-229, 234-243, 246, 253-254, 258-259, 263, 267, 271, 275-277, 289-291\napp/core/conversation_manager.py                 179    133    26%   38, 51, 68-72, 76-87, 91-92, 96-121, 130-143, 149-153, 164-173, 179-206, 210-222, 226-230, 236-257, 262-273, 277-286, 290-297, 301-341, 346-350, 354\napp/core/database_manager.py                     137     97    29%   32-38, 43-90, 94-97, 101-123, 132-143, 150-152, 156-158, 163-165, 170-172, 181-184, 188-189, 193-198, 202-207, 211-216, 221-223, 232, 237-245, 251, 256, 260\napp/core/db_optimizations.py                      82     82     0%   6-324\napp/core/exceptions.py                            97     36    63%   12-14, 27-28, 35, 54-55, 62, 69-71, 78-79, 110-111, 130-132, 139-144, 157-158, 177-179, 192-193, 218-221\napp/core/llm_manager.py                          203    156    23%   28-34, 39-56, 60-67, 72-79, 83-90, 94-100, 114-125, 130-167, 171-184, 188-191, 195-215, 221-224, 232-249, 253-254, 267-287, 297-298, 302-305, 312-320, 326-333, 337-347, 353-362, 366-367, 371-372, 380-381, 389, 396\napp/core/logger_manager.py                       276    177    36%   68-71, 100, 110, 139-144, 152-225, 232-235, 248-256, 273-289, 301-313, 321-326, 334-339, 423-428, 473-520, 528-542, 550-578, 587-593, 600-614, 621-693, 704-740, 744-782, 786\napp/core/logging_utils.py                          2      2     0%   5-7\napp/core/performance_utils.py                    220    220     0%   5-421\napp/core/service_container.py                      3      3     0%   6-11\napp/core/service_interface.py                    139     87    37%   36-39, 49-52, 59-76, 81, 87-102, 107, 113-140, 147, 152, 157, 165, 177-180, 184-185, 189-190, 195-203, 207-209, 213-214, 218-221, 230, 234-249, 253-255, 259\napp/core/streaming_handler.py                    138    138     0%   6-288\napp/core/tool_executor.py                        222    163    27%   59-61, 66-68, 75-81, 85-101, 105-115, 119-134, 148-152, 156-165, 174-179, 184-188, 192, 196-228, 232, 236-239, 243, 265-318, 328-336, 340-374, 388-393, 400-410, 416-424, 430-436, 440\napp/core/tool_registry.py                        155     84    46%   42-47, 64-72, 85-105, 156, 182-191, 206, 210-213, 219-222, 226-248, 252-261, 265-269, 291, 299, 310-318, 325\napp/database.py                                    0      0   100%\napp/dependencies.py                                7      2    71%   10-11\napp/embedding_models/__init__.py                   3      0   100%\napp/embedding_models/embedding_factory.py         36     19    47%   28-33, 42-47, 55-60, 64, 68, 72, 76-79\napp/embedding_models/embedding_interface.py      113     79    30%   22, 27, 35, 40, 47-50, 54-59, 69-77, 81-82, 86-91, 95, 102-105, 109-111, 119-132, 136-137, 141, 145, 152-156, 160-175, 183-210, 214-215, 219-222, 226\napp/embedding_models/pipeline_schemas.py         145    145     0%   6-217\napp/main.py                                      275    275     0%   6-643\napp/models.py                                    191      3    98%   13, 249, 285\napp/orchestrator.py                                0      0   100%\napp/paralegal_agents/__init__.py                   2      2     0%   3-5\napp/paralegal_agents/refactored_agent_sdk.py     147    147     0%   7-466\napp/repositories/case_repository.py               54     35    35%   16, 20-21, 24-30, 33-37, 40-44, 47-53, 56-57, 60-64, 67-75, 79\napp/routes/__init__.py                             3      3     0%   5-8\napp/routes/auth.py                               215    215     0%   6-646\napp/routes/case_management_routes.py              47     47     0%   5-125\napp/routes/monitoring_routes.py                  174    174     0%   5-444\napp/services/__init__.py                          17      8    53%   15-49\napp/services/case_management_service.py          110     75    32%   21-23, 26-27, 30, 33, 38, 41, 44, 47, 63-70, 146-149, 152-156, 160-163, 166, 171-191, 213-230, 256-313, 326\napp/services/document_generation_service.py      143    131     8%   19-403\napp/services/fallback_parser.py                  215    215     0%   6-448\napp/services/openai_client.py                    110    110     0%   5-340\napp/services/optimized_statute_search.py         109    109     0%   5-263\napp/services/statute_search_service.py           188    176     6%   20-429\napp/services/supreme_court_service.py            174    174     0%   5-427\napp/task_processors.py                           188    188     0%   1-355\napp/validator.py                                  22     22     0%   1-195\napp/validators/__init__.py                         0      0   100%\napp/validators/document_validator.py             170    166     2%   20-390\n----------------------------------------------------------------------------\nTOTAL                                           5223   4287    18%\nCoverage HTML written to dir htmlcov\n\nFAIL Required test coverage of 80% not reached. Total coverage: 17.92%\n- Generated html report: file:///workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.html -\n=========================== short test summary info ============================\nERROR tests\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 2.90s ===============================\n",
      "stderr": "",
      "junit_xml": "/workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.xml",
      "html_report": "/workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.html",
      "json_report": "/workspace/reports/20250826-122341/test_openai_implementation/test_openai_implementation.json"
    }
  ]
}